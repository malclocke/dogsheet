<% total_duration = timeslices.inject(0) {|total,timeslice| total += timeslice.duration} %>
<h3 class="dayheader">
  <span class="summary">
    <%= hours_and_minutes(total_duration) %> (<%= decimal_hours(total_duration) %>)
  </span>
  <%= link_to date.to_s(:human), timesheet_path(date) -%>
</h3>
<div id="timesheet-<%= date %>" class="timeslice-list">
  <% unless timeslices.count > 0 %>
  <div class="timegap no-timeslices">
    There is currently no time recorded on this day.
  </div>
  <% end %>
  <% for timeslice in timeslices %>
  <%= render :partial => 'timesheet_row', :locals => { :timeslice => timeslice } %>
  <% end %>
</div>
